<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal NTi - Santana de Parna√≠ba</title>
    <style>
        :root {
            --azul-gov: #002d5e;
            --azul-claro: #0056b3;
            --dourado: #c5a059;
            --cinza-fundo: #f4f7f6;
            --branco: #ffffff;
        }

        * { box-sizing: border-box; font-family: 'Segoe UI', Arial, sans-serif; }
        
        body { 
            margin: 0; 
            background-color: var(--cinza-fundo); 
            color: #333;
        }

        /* HEADER OFICIAL */
        header {
            background-color: var(--azul-gov);
            color: var(--branco);
            padding: 15px 5%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 5px solid var(--dourado);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .brasao-container { display: flex; align-items: center; gap: 15px; }
        .brasao-img { height: 60px; filter: brightness(0) invert(1); }
        .header-titulos h1 { margin: 0; font-size: 18px; text-transform: uppercase; letter-spacing: 1px; }
        .header-titulos p { margin: 0; font-size: 12px; opacity: 0.8; }

        /* CONTAINER PRINCIPAL */
        .container {
            max-width: 1000px;
            margin: 30px auto;
            padding: 20px;
        }

        /* CARD DE LOGIN/DADOS */
        .panel {
            background: var(--branco);
            border-radius: 4px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            border-top: 4px solid var(--azul-claro);
            padding: 30px;
            margin-bottom: 20px;
        }

        h2 { color: var(--azul-gov); border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 0; }

        /* GRID DE SERVI√áOS ESTILO GOVERNO */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .menu-item {
            background: var(--branco);
            border: 1px solid #ddd;
            padding: 25px;
            display: flex;
            align-items: flex-start;
            gap: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .menu-item:hover {
            border-color: var(--azul-claro);
            background-color: #f9f9f9;
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .icon-circle {
            background-color: var(--azul-gov);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .menu-text b { display: block; font-size: 16px; color: var(--azul-gov); margin-bottom: 5px; }
        .menu-text span { font-size: 13px; color: #666; line-height: 1.4; }

        /* FORMUL√ÅRIOS */
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: 600; font-size: 13px; margin-bottom: 5px; color: #555; }
        input, select, textarea {
            width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 3px; font-size: 14px;
        }
        input:focus { border-color: var(--azul-claro); outline: none; }

        .btn-gov {
            background-color: var(--azul-claro);
            color: white;
            border: none;
            padding: 12px 25px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            border-radius: 3px;
            transition: background 0.2s;
        }
        .btn-gov:hover { background-color: var(--azul-gov); }

        /* GRADE DE SALAS ORGANIZADA */
        .sala-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        .sala-btn {
            background: #eee; border: 1px solid #ddd; padding: 10px; cursor: pointer; font-size: 12px; font-weight: 600;
        }
        .sala-btn.active { background: var(--azul-gov); color: white; border-color: var(--azul-gov); }

        .hidden { display: none; }
        
        footer { text-align: center; padding: 40px; color: #888; font-size: 12px; }
    </style>
</head>
<body>

    <header>
        <div class="brasao-container">
            <img src="https://www.santanadeparnaiba.sp.gov.br/portal/img/brasao.png" class="brasao-img" alt="Bras√£o Parna√≠ba">
            <div class="header-titulos">
                <h1>NTi - Gest√£o de Ativos</h1>
                <p>Secretaria Municipal de Educa√ß√£o</p>
            </div>
        </div>
        <div id="status-user" style="font-size: 13px; font-weight: 600;">Acesso Restrito</div>
    </header>

    <div class="container">
        
        <div id="scr-login" class="panel">
            <h2>Autentica√ß√£o de Usu√°rio</h2>
            <div class="form-group">
                <label>E-MAIL INSTITUCIONAL</label>
                <input type="email" id="email" placeholder="nome.sobrenome@educacao.santanadeparnaiba.sp.gov.br">
            </div>
            <div class="form-group">
                <label>SENHA DE ACESSO</label>
                <input type="password" id="pass" placeholder="******">
            </div>
            <button class="btn-gov" onclick="irPara('perfil')">Acessar Sistema</button>
        </div>

        <div id="scr-perfil" class="panel hidden">
            <h2>Dados do Docente</h2>
            <div class="form-group">
                <label>NOME COMPLETO</label>
                <input type="text" id="p-nome">
            </div>
            <div style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>PRONTU√ÅRIO (RP)</label>
                    <input type="text" id="p-rp">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>DISCIPLINA</label>
                    <input type="text" id="p-mat">
                </div>
            </div>
            <button class="btn-gov" onclick="irPara('menu')">Confirmar e Entrar</button>
        </div>

        <div id="scr-menu" class="hidden">
            <h2 style="margin-bottom: 25px;">Servi√ßos Dispon√≠veis</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="irPara('reserva')">
                    <div class="icon-circle">üìÖ</div>
                    <div class="menu-text">
                        <b>Reserva de Equipamentos</b>
                        <span>Agende Chromebooks, Laborat√≥rios e TVs Interativas para suas aulas.</span>
                    </div>
                </div>
                <div class="menu-item" onclick="irPara('suporte')">
                    <div class="icon-circle" style="background-color: #d9534f;">üõ†Ô∏è</div>
                    <div class="menu-text">
                        <b>Suporte T√©cnico (NTi)</b>
                        <span>Relate problemas t√©cnicos em sala de aula para manuten√ß√£o imediata.</span>
                    </div>
                </div>
            </div>
            <p style="text-align: center; margin-top: 30px;">
                <button class="btn-gov" style="background:#666" onclick="location.reload()">Sair do Sistema</button>
            </p>
        </div>

        <div id="scr-reserva" class="panel hidden">
            <h2>Agendamento de Recurso</h2>
            <label>1. Escolha a Unidade Escolar / Sala:</label>
            <div class="sala-selector" id="grid-salas-res"></div>
            
            <div class="form-group">
                <label>2. Recurso Desejado:</label>
                <select id="item-res">
                    <option>Carrinho de Chromebooks (30 unidades)</option>
                    <option>Laborat√≥rio de Inform√°tica</option>
                    <option>TV Digital Interativa</option>
                </select>
            </div>

            <div style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Hor√°rio de Retirada:</label>
                    <input type="time" id="h-ini">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Hor√°rio de Entrega:</label>
                    <input type="time" id="h-fim">
                </div>
            </div>
            <button class="btn-gov" onclick="iniciarReserva()">Protocolar Reserva</button>
            <button class="btn-gov" style="background:#999" onclick="irPara('menu')">Voltar</button>
        </div>

        <div id="scr-timer" class="panel hidden" style="text-align: center;">
            <h2>Reserva em Andamento</h2>
            <div id="timer-label" style="font-size: 60px; font-weight: bold; color: var(--azul-gov); margin: 20px 0;">00:00</div>
            <p id="timer-info" style="color: #666;"></p>
            <button class="btn-gov" style="background: #5cb85c;" onclick="irPara('menu')">Finalizar Uso Corretamente</button>
        </div>

        <div id="scr-suporte" class="panel hidden">
            <h2>Abertura de Chamado T√©cnico</h2>
            <label>Localiza√ß√£o da Ocorr√™ncia:</label>
            <div class="sala-selector" id="grid-salas-ti"></div>
            
            <div class="form-group">
                <label>Prioridade do Atendimento:</label>
                <select id="sup-prioridade" style="font-weight: bold;">
                    <option value="Verde" style="color: green;">BAIXA - Funcionamento Parcial</option>
                    <option value="Amarelo" style="color: orange;">M√âDIA - Necessita Reparo Breve</option>
                    <option value="Vermelho" style="color: red;">ALTA - Interrup√ß√£o Total da Aula</option>
                </select>
            </div>

            <div class="form-group">
                <label>Descri√ß√£o Detalhada do Problema:</label>
                <textarea id="sup-msg" rows="4" placeholder="Ex: Chromebook ligando com tela preta ou sem conex√£o Wi-Fi..."></textarea>
            </div>
            <button class="btn-gov" style="background: #d9534f;" onclick="enviarSuporte()">Registrar Ocorr√™ncia</button>
            <button class="btn-gov" style="background:#999" onclick="irPara('menu')">Voltar</button>
        </div>

    </div>

    <footer>
        ¬© 2026 Departamento de Tecnologia da Informa√ß√£o - NTi<br>
        Prefeitura de Santana de Parna√≠ba - SP
    </footer>

    <script>
        let salaSelecionada = "";
        let tempoRestante;

        function irPara(tela) {
            document.querySelectorAll('.container > div').forEach(d => d.classList.add('hidden'));
            document.getElementById('scr-' + tela).classList.remove('hidden');
            if(tela === 'menu') {
                document.getElementById('status-user').innerText = "Bem-vindo, " + document.getElementById('p-nome').value;
            }
        }

        function criarSalas(containerId) {
            const container = document.getElementById(containerId);
            for(let i=1; i<=9; i++) {
                let b = document.createElement('button');
                b.className = 'sala-btn'; b.innerText = i + '¬∫ ANO A';
                b.onclick = (e) => {
                    e.preventDefault();
                    document.querySelectorAll('.sala-btn').forEach(x => x.classList.remove('active'));
                    b.classList.add('active');
                    salaSelecionada = b.innerText;
                };
                container.appendChild(b);
            }
        }

        function iniciarReserva() {
            const hFim = document.getElementById('h-fim').value;
            if(!salaSelecionada || !hFim) return alert("Por favor, preencha todos os campos obrigat√≥rios.");
            
            irPara('timer');
            document.getElementById('timer-info').innerText = "Recurso locado para: " + salaSelecionada;
            
            // L√≥gica Simples de Timer
            setInterval(() => {
                const agora = new Date();
                const [h, m] = hFim.split(':');
                const fim = new Date(); fim.setHours(h, m, 0);
                const diff = fim - agora;
                
                if(diff <= 0) {
                    document.getElementById('timer-label').innerText = "EXPIRADO";
                    document.getElementById('timer-label').style.color = "red";
                } else {
                    let min = Math.floor(diff/60000);
                    let seg = Math.floor((diff%60000)/1000);
                    document.getElementById('timer-label').innerText = `${min.toString().padStart(2,'0')}:${seg.toString().padStart(2,'0')}`;
                }
            }, 1000);
        }

        function enviarSuporte() {
            if(!salaSelecionada) return alert("Selecione a sala da ocorr√™ncia.");
            alert("Chamado registrado com sucesso. Protocolo enviado ao NTi.");
            irPara('menu');
        }

        criarSalas('grid-salas-res');
        criarSalas('grid-salas-ti');
    </script>
</body>
</html>
