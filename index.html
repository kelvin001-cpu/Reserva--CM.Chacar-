<script>
    // Configuração com os dados da sua imagem
    const firebaseConfig = {
        databaseURL: "https://escala-chacara-default-rtdb.firebaseio.com/"
    };
    
    // Inicializa
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    const app = {
        // ... (resto das funções de nav e setEq permanecem iguais)

        enviarChamado() {
            const mot = document.getElementById('sup-motivo').value;
            // TRAVA OBRIGATÓRIA
            if(!this.grau || !mot) {
                return alert("TRAVA: Você precisa escolher a gravidade e descrever o problema!");
            }

            const chamado = {
                professor: document.getElementById('p-nome').value,
                prontuario: document.getElementById('p-id').value,
                urgencia: this.grau,
                problema: mot,
                data: new Date().toLocaleString('pt-BR')
            };

            // Envia para a pasta 'chamados' no seu Firebase
            database.ref('chamados').push(chamado)
                .then(() => {
                    alert("✅ ENVIADO! O chamado já deve aparecer no painel do Zé.");
                    location.reload();
                })
                .catch((error) => {
                    alert("ERRO NO FIREBASE: " + error.message);
                });
        }
    };
</script>
