<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TechReserva - Chácara das Garças</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00adef;
            --secondary: #0056a2;
            --accent: #00ff9d;
            --error: #ff4757;
            --glass: rgba(255, 255, 255, 0.12);
        }

        * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }

        body {
            margin: 0; padding: 0; font-family: 'Inter', sans-serif;
            background: #000b1a radial-gradient(circle at top right, #001f3f, #000b1a);
            min-height: 100vh; display: flex; align-items: center; justify-content: center; color: white;
        }

        /* MOLDE ÚNICO PROFISSIONAL */
        .app-container {
            width: 92%; max-width: 420px;
            background: var(--glass); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 32px;
            padding: 30px; box-shadow: 0 25px 50px rgba(0,0,0,0.6);
            position: relative; overflow: hidden;
        }

        .header-top { text-align: center; margin-bottom: 25px; }
        .data-display { font-size: 11px; font-weight: 600; color: var(--primary); letter-spacing: 1px; margin-bottom: 5px; }
        .school-name { font-size: 10px; opacity: 0.7; text-transform: uppercase; letter-spacing: 2px; }

        h2 { font-weight: 600; font-size: 16px; text-align: center; margin: 0 0 25px 0; text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; }

        label { display: block; font-size: 10px; font-weight: 600; color: var(--primary); margin: 0 0 8px 4px; text-transform: uppercase; }

        /* INPUTS */
        .input-group { margin-bottom: 18px; }
        .field {
            width: 100%; height: 52px; background: rgba(255, 255, 255, 0.95);
            border: none; border-radius: 14px; padding: 0 18px; font-size: 15px;
            color: #1a1a1a; font-family: 'Inter'; transition: 0.3s;
        }

        /* BOTÕES DE EQUIPAMENTO (NA RÉGUA) */
        .equip-grid { display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px; }
        .equip-btn {
            height: 56px; border-radius: 14px; border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255, 255, 255, 0.05); color: white; font-size: 13px; font-weight: 600;
            cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center;
        }
        .equip-btn.active { background: var(--primary); border-color: white; box-shadow: 0 8px 20px rgba(0, 173, 239, 0.3); }

        /* CHROMEBOOK BOX */
        .chrome-options { background: rgba(0,0,0,0.2); padding: 15px; border-radius: 18px; margin-bottom: 15px; border: 1px dashed rgba(255,255,255,0.2); }

        /* CRONÔMETRO */
        .timer-wrap { text-align: center; margin: 30px 0; }
        .time-left { font-family: 'Orbitron', sans-serif; font-size: 48px; color: var(--accent); text-shadow: 0 0 20px rgba(0, 255, 157, 0.4); }

        /* AÇÕES */
        .main-btn {
            width: 100%; height: 58px; border-radius: 16px; border: none;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white; font-weight: 700; text-transform: uppercase; cursor: pointer;
            box-shadow: 0 10px 20px rgba(0, 86, 162, 0.3); transition: 0.3s;
        }
        .main-btn:active { transform: scale(0.98); }
        .finish-btn { background: var(--error); margin-top: 15px; box-shadow: 0 10px 20px rgba(255, 71, 87, 0.2); }

        /* SUPORTE TI */
        .footer-support { margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); text-align: center; }
        .support-info { font-size: 11px; color: rgba(255,255,255,0.5); line-height: 1.6; }
        .support-info b { color: var(--accent); }

        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="header-top">
            <div class="data-display" id="live-clock">00/00/0000 00:00:00</div>
            <div class="school-name">C.M. Chácara das Garças</div>
        </div>

        <div id="view-login">
            <h2>Identificação</h2>
            <div class="input-group">
                <label>Nome do Docente</label>
                <input type="text" class="field" id="prof-name" placeholder="Ex: Prof. Silva">
            </div>
            <button class="main-btn" onclick="app.toReserva()">Acessar Sistema</button>
        </div>

        <div id="view-reserva" class="hidden">
            <h2>Nova Reserva</h2>
            
            <div class="input-group">
                <label>Turma / Sala</label>
                <select class="field" id="turma-select">
                    <script>for(let i=1; i<=9; i++) document.write(`<option>${i}º Ano A</option>`);</script>
                </select>
            </div>

            <label>Equipamento</label>
            <div class="equip-grid">
                <button class="equip-btn" id="b1" onclick="app.select('SALA DE INFORMÁTICA', 'b1')">SALA DE INFORMÁTICA</button>
                <button class="equip-btn" id="b2" onclick="app.select('CHROMEBOOKS', 'b2')">CHROMEBOOKS</button>
                <button class="equip-btn" id="b3" onclick="app.select('TV DIGITAL', 'b3')">TV DIGITAL</button>
            </div>

            <div id="chrome-details" class="hidden chrome-options">
                <label>Distribuição</label>
                <select class="field" id="chrome-mode" onchange="app.toggleQty()">
                    <option value="Carrinho">Carrinho Completo</option>
                    <option value="Unidade">Unidade Individual</option>
                </select>
                <div id="qty-wrapper" class="hidden" style="margin-top:15px">
                    <label>Quantidade de Aparelhos</label>
                    <input type="number" class="field" id="chrome-qty" placeholder="Ex: 15">
                </div>
            </div>

            <button class="main-btn" onclick="app.confirmar()">Confirmar Reserva</button>
        </div>

        <div id="view-timer" class="hidden">
            <h2 id="timer-status">Em Uso</h2>
            <div class="timer-wrap">
                <div class="time-left" id="countdown">50:00</div>
            </div>
            <div style="text-align:center; font-size:12px; opacity:0.8" id="timer-info"></div>
            <button class="main-btn finish-btn" onclick="location.reload()">Finalizar Aula</button>
        </div>

        <div class="footer-support">
            <div class="support-info">
                Suporte Técnico: <b>TI Central</b><br>
                Ramal: <b>202</b> | Segunda a Sexta
            </div>
        </div>
    </div>

    <script>
        const app = {
            prof: "", item: "", timer: null,
            // Simulação de ocupação (para aviso)
            ocupados: { "SALA DE INFORMÁTICA": { prof: "Marcos", sala: "7º B" } },

            toReserva() {
                this.prof = document.getElementById('prof-name').value;
                if(!this.prof) return alert("Por favor, digite seu nome.");
                document.getElementById('view-login').classList.add('hidden');
                document.getElementById('view-reserva').classList.remove('hidden');
            },

            select(item, id) {
                // AVISO DE QUEM RESERVOU (Bloqueio)
                if(this.ocupados[item]) {
                    return alert(`BLOQUEADO!\nO item [${item}] já está em uso.\nDocente: ${this.ocupados[item].prof}\nLocal: ${this.ocupados[item].sala}`);
                }
                this.item = item;
                document.querySelectorAll('.equip-btn').forEach(b => b.classList.remove('active'));
                document.getElementById(id).classList.add('active');
                document.getElementById('chrome-details').className = (item === 'CHROMEBOOKS') ? 'chrome-options' : 'hidden';
            },

            toggleQty() {
                const mode = document.getElementById('chrome-mode').value;
                document.getElementById('qty-wrapper').className = (mode === 'Unidade') ? '' : 'hidden';
            },

            confirmar() {
                if(!this.item) return alert("Selecione o equipamento.");
                const mode = document.getElementById('chrome-mode').value;
                const qty = document.getElementById('chrome-qty').value;

                if(this.item === 'CHROMEBOOKS' && mode === 'Unidade' && !qty) {
                    return alert("ERRO: Informe a quantidade de Chromebooks necessária.");
                }

                document.getElementById('view-reserva').classList.add('hidden');
                document.getElementById('view-timer').classList.remove('hidden');
                
                const displayItem = (this.item === 'CHROMEBOOKS') ? `${this.item} (${mode} x${qty || 'Total'})` : this.item;
                document.getElementById('timer-info').innerHTML = `<b>${this.prof}</b> utilizando <b>${displayItem}</b><br>Sala: ${document.getElementById('turma-select').value}`;
                
                this.startTimer(50);
            },

            startTimer(mins) {
                let seconds = mins * 60;
                this.timer = setInterval(() => {
                    let m = Math.floor(seconds / 60);
                    let s = seconds % 60;
                    document.getElementById('countdown').innerText = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
                    if(seconds > 0) seconds--;
                }, 1000);
            }
        };

        // Relógio Profissional
        setInterval(() => {
            const now = new Date();
            document.getElementById('live-clock').innerText = now.toLocaleString('pt-BR');
        }, 1000);
    </script>
</body>
</html>
