// ... dentro do objeto app ...

        enviarChamado() {
            const chamado = {
                prof: this.user.nome,
                mat: this.user.mat,
                local: document.getElementById('n-local').value,
                erro: document.getElementById('n-erro').value
            };
            if(!chamado.local || !chamado.erro) return alert("Preencha o local e o erro!");
            
            let chamados = JSON.parse(localStorage.getItem('chacara_chamados') || '[]');
            chamados.push(chamado);
            localStorage.setItem('chacara_chamados', JSON.stringify(chamados));
            
            // Limpa os campos após enviar
            document.getElementById('n-local').value = '';
            document.getElementById('n-erro').value = '';
            
            this.desenharChamados();
            alert("NTi Notificado!");
        },

        desenharChamados() {
            const lista = document.getElementById('lista-chamados');
            let chamados = JSON.parse(localStorage.getItem('chacara_chamados') || '[]');
            
            // Usamos o índice original para saber qual excluir
            lista.innerHTML = chamados.map((c, index) => `
                <div class="monitor-card">
                    <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                        <div>
                            <b>LOCAL: ${c.local}</b><br>
                            <small>Erro: ${c.erro}</small><br>
                            <small style="opacity:0.7">Por: ${c.prof} (${c.mat})</small>
                        </div>
                        <button onclick="app.concluirChamado(${index})" 
                                style="background:#00ff9d; border:none; border-radius:5px; padding:5px 8px; cursor:pointer; font-size:9px; font-weight:bold; color:#000">
                            ✓ RESOLVIDO
                        </button>
                    </div>
                </div>
            `).reverse().join('');
        },

        concluirChamado(index) {
            if(confirm("Deseja marcar este chamado como resolvido e removê-lo?")) {
                let chamados = JSON.parse(localStorage.getItem('chacara_chamados') || '[]');
                // Remove o item pelo índice
                chamados.splice(index, 1);
                localStorage.setItem('chacara_chamados', JSON.stringify(chamados));
                this.desenharChamados();
            }
        },

// ... resto do código ...
