<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C.M Ch√°cara Das Gar√ßas - Gest√£o NTi</title>
    <style>
        :root {
            --azul-gov: #002d5e;
            --azul-claro: #0056b3;
            --dourado: #c5a059;
            --cinza-fundo: #f4f7f6;
            --branco: #ffffff;
            --danger: #d9534f;
            --warning: #f0ad4e;
            --success: #5cb85c;
        }

        * { box-sizing: border-box; font-family: 'Segoe UI', Arial, sans-serif; }
        
        body { margin: 0; background-color: var(--cinza-fundo); color: #333; }

        header {
            background-color: var(--azul-gov);
            color: var(--branco);
            padding: 15px 5%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 5px solid var(--dourado);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .brasao-container { display: flex; align-items: center; gap: 15px; }
        .brasao-img { height: 60px; filter: brightness(0) invert(1); }
        .header-titulos h1 { margin: 0; font-size: 18px; text-transform: uppercase; letter-spacing: 1px; }
        .header-titulos p { margin: 0; font-size: 12px; opacity: 0.8; }

        .container { max-width: 1000px; margin: 30px auto; padding: 20px; }

        .panel {
            background: var(--branco);
            border-radius: 4px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
            border-top: 4px solid var(--azul-claro);
            padding: 30px;
            margin-bottom: 20px;
        }

        h2 { color: var(--azul-gov); border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 0; }

        .menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }

        .menu-item {
            background: var(--branco);
            border: 1px solid #ddd;
            padding: 25px;
            display: flex;
            align-items: flex-start;
            gap: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .menu-item:hover {
            border-color: var(--azul-claro);
            background-color: #f9f9f9;
            transform: translateY(-3px);
        }

        .icon-circle {
            background-color: var(--azul-gov);
            color: white;
            width: 50px; height: 50px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 24px; flex-shrink: 0;
        }

        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: 600; font-size: 13px; margin-bottom: 5px; color: #555; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 3px; font-size: 14px; }

        .btn-gov {
            background-color: var(--azul-claro);
            color: white; border: none; padding: 12px 25px;
            font-weight: bold; text-transform: uppercase;
            cursor: pointer; border-radius: 3px; width: 100%;
        }

        .sala-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
            gap: 8px; margin: 15px 0;
        }
        .sala-btn {
            background: #eee; border: 1px solid #ddd; padding: 10px; 
            cursor: pointer; font-size: 11px; font-weight: 600; text-align: center;
        }
        .sala-btn.active { background: var(--azul-gov); color: white; }

        .prioridade-select option[value="Verde"] { background: #dff0d8; color: #3c763d; }
        .prioridade-select option[value="Amarelo"] { background: #fcf8e3; color: #8a6d3b; }
        .prioridade-select option[value="Vermelho"] { background: #f2dede; color: #a94442; }

        .hidden { display: none; }
        footer { text-align: center; padding: 40px; color: #888; font-size: 12px; }
    </style>
</head>
<body>

    <header>
        <div class="brasao-container">
            <img src="https://www.santanadeparnaiba.sp.gov.br/portal/img/brasao.png" class="brasao-img" alt="Bras√£o Parna√≠ba">
            <div class="header-titulos">
                <h1>C.M Ch√°cara Das Gar√ßas</h1>
                <p>Gest√£o de Ativos e Suporte TI</p>
            </div>
        </div>
        <div id="status-user" style="font-size: 13px; font-weight: 600;">Acesso Restrito</div>
    </header>

    <div class="container">
        
        <div id="scr-login" class="panel">
            <h2>Login do Professor</h2>
            <div class="form-group">
                <label>USU√ÅRIO / E-MAIL</label>
                <input type="text" id="login-user" placeholder="nome.sobrenome">
            </div>
            <div class="form-group">
                <label>SENHA</label>
                <input type="password" id="login-pass" placeholder="******">
            </div>
            <button class="btn-gov" onclick="irPara('perfil')">Entrar</button>
        </div>

        <div id="scr-perfil" class="panel hidden">
            <h2>Dados para Registro</h2>
            <div class="form-group">
                <label>NOME COMPLETO</label>
                <input type="text" id="p-nome" placeholder="Nome do docente">
            </div>
            <div style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>PRONTU√ÅRIO</label>
                    <input type="text" id="p-rp" placeholder="000000">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>MAT√âRIA / DISCIPLINA</label>
                    <input type="text" id="p-mat" placeholder="Ex: Matem√°tica">
                </div>
            </div>
            <button class="btn-gov" onclick="salvarPerfil()">Confirmar Dados</button>
        </div>

        <div id="scr-menu" class="hidden">
            <h2 style="margin-bottom: 25px;">Painel de Controle</h2>
            <div class="menu-grid">
                <div class="menu-item" onclick="irPara('reserva')">
                    <div class="icon-circle">üìÖ</div>
                    <div class="menu-text">
                        <b>Reserva de Equipamentos</b>
                        <span>Agende Chromebooks, TVs e Laborat√≥rio.</span>
                    </div>
                </div>
                <div class="menu-item" onclick="irPara('suporte')">
                    <div class="icon-circle" style="background-color: var(--danger);">üõ†Ô∏è</div>
                    <div class="menu-text">
                        <b>Chamado de Suporte TI</b>
                        <span>Relate problemas t√©cnicos e urg√™ncias.</span>
                    </div>
                </div>
            </div>
            <p style="text-align: center; margin-top: 30px;">
                <button class="btn-gov" style="background:#666; width: auto;" onclick="location.reload()">Sair</button>
            </p>
        </div>

        <div id="scr-reserva" class="panel hidden">
            <h2>Nova Reserva</h2>
            
            <label>Selecione a Sala de Uso:</label>
            <div class="sala-selector" id="grid-salas-res"></div>

            <div class="form-group">
                <label>Equipamento:</label>
                <select id="item-res" onchange="toggleChromebookQty()">
                    <option value="TV Digital (Pat: 230180)">TV Digital (Pat: 230180)</option>
                    <option value="Carrinho Chromebook (Pat: 247880)">Carrinho Chromebook (Pat: 247880)</option>
                    <option value="Laborat√≥rio de Inform√°tica">Laborat√≥rio de Inform√°tica</option>
                </select>
            </div>

            <div id="chrome-qty-div" class="form-group hidden">
                <label>Quantidade de Chromebooks a retirar:</label>
                <input type="number" id="qtd-chrome" min="1" max="40" value="1">
            </div>

            <div style="display: flex; gap: 15px;">
                <div class="form-group" style="flex: 1;">
                    <label>Data e Hora de In√≠cio:</label>
                    <input type="datetime-local" id="h-ini">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Previs√£o de Entrega:</label>
                    <input type="time" id="h-fim">
                </div>
            </div>
            <button class="btn-gov" onclick="confirmarReserva()">Confirmar Reserva</button>
            <button class="btn-gov" style="background:#999; margin-top:10px;" onclick="irPara('menu')">Voltar</button>
        </div>

        <div id="scr-timer" class="panel hidden" style="text-align: center;">
            <h2>Uso em Andamento</h2>
            <div id="timer-label" style="font-size: 60px; font-weight: bold; color: var(--azul-gov); margin: 20px 0;">00:00</div>
            <p id="timer-info" style="color: #666; font-weight: bold;"></p>
            <button class="btn-gov" style="background: var(--success);" onclick="finalizarUso()">Finalizar Uso / Entregar</button>
        </div>

        <div id="scr-suporte" class="panel hidden">
            <h2>Abertura de Chamado</h2>
            
            <label>Sala da Ocorr√™ncia:</label>
            <div class="sala-selector" id="grid-salas-ti"></div>

            <div class="form-group">
                <label>Gravidade da Situa√ß√£o:</label>
                <select id="sup-prioridade" class="prioridade-select">
                    <option value="Verde">üü¢ VERDE: Bom (Resolver depois)</option>
                    <option value="Amarelo">üü° AMARELO: Imediato (Sem urg√™ncia extrema)</option>
                    <option value="Vermelho">üî¥ VERMELHO: URG√äNCIA (Interrup√ß√£o total)</option>
                </select>
            </div>

            <div class="form-group">
                <label>Motivo do Chamado:</label>
                <textarea id="sup-msg" rows="4" placeholder="
